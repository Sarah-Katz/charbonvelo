{% extends 'base.html.twig' %}

{% block title %}
  Liste des catégories
{% endblock %}

{% block body %}
  <div class="container shadow rounded mx-auto my-4 px-4 py-8">
    <h1 class="text-2xl font-semibold mb-6">Liste des catégories</h1>
    <div class="bg-white shadow rounded-lg px-4">
      <ul class="divide-y divide-gray-200">
        {% for category in categories %}
          <li class="py-4">
            <a href="{{ path('app_category_show', { category: category.id }) }}" class="">
                <h2 class="text-lg font-semibold">{{ category.title }}</h2>
                {% set lastSubject = category.subjects|first %}
                {% if lastSubject %}
                  <span class="text-accent font-bold text-sm">Dernier sujet:</span>
                  <a href="{{ path('app_subject_show', { id: lastSubject.id }) }}">{{ lastSubject.title }}</a>
                {% else %}
                  <p class="text-gray-500 text-sm">Aucun sujet dans cette catégorie</p>
                {% endif %}
            </a>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
{% endblock %}
